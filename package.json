{
    "name": "slack",
    "label": "Slack",
    "dependencies": [
        {
            "type": "service",
            "name": "http",
            "version": "v1.7.0"
        }
    ],
    "configuration": [
        {
            "name": "userApiToken",
            "label": "User API token",
            "type": "text"
        },
        {
            "name": "botApiToken",
            "label": "Bot API token",
            "type": "text",
            "required": true
        },
        {
            "name": "verificationToken",
            "label": "Verification token",
            "description": "Token provided to verify that requests are actually coming from Slack (Basic Information -> Verification Token)",
            "type": "text"
        },
        {
            "name": "eventsUrl",
            "label": "Events URL",
            "description": "This is the URL you need to set as 'Request URL' in 'Event Subscriptions' page of your app. Keep in mind that the endpoint must be deployed in order to interact with the Slack configuration page.",
            "type": "label",
            "value": "config.SERVER_URL+'/'+config.ENV+'/services/'+config.SERVICE_NAME+'/sync/slackEvents/'"
        },
        {
            "label": "Slack Event",
            "name": "slackEvent",
            "description": "Function called when a Slack event is triggered. I.e. app.controller.slack.slackEvent",
            "type": "script"
        },
        {
            "name": "slashCommandsUrl",
            "label": "Slash commands URL",
            "description": "This is the URL you need to set as Request URL in each of your Slash commands.",
            "type": "label",
            "value": "config.SERVER_URL+'/'+config.ENV+'/services/'+config.SERVICE_NAME+'/sync/slashCommands/'"
        },
        {
            "label": "Slash Command",
            "name": "slashCommand",
            "description": "Function called when a Slack event is triggered. I.e. app.controller.slack.slashCommand",
            "type": "script"
        },
        {
            "name": "interactiveMessagesUrl",
            "label": "Interactive messages URL",
            "description": "This is the URL you need to set as 'Request URL' in 'Interactive Messages' page of your app.",
            "type": "label",
            "value": "config.SERVER_URL+'/'+config.ENV+'/services/'+config.SERVICE_NAME+'/interactiveMessages/'"
        },
        {
            "name": "optionsLoadUrl",
            "label": "Options load URL",
            "description": "This is the URL you need to set as 'Options Load URL' in 'Interactive Messages' page of your app.",
            "type": "label",
            "value": "config.SERVER_URL+'/'+config.ENV+'/services/'+config.SERVICE_NAME+'/optionsLoad/'"
        },
        {
            "name": "SLACK_API_BASE_URL",
            "label": "Slack API URL",
            "type": "label",
            "value": "https://slack.com/api"
        }
    ],
    "events": [
        {
            "label": "Interactive Message",
            "name": "interactiveMessage",
            "description": "Happens when a button in a message is pushed."
        },
        {
            "label": "Options Load",
            "name": "optionsLoad",
            "description": "Happens when Slack needs to populate a dropdown with options."
        }
    ],
    "metadata": [
        {
            "type": "script",
            "namespace": "user",
            "path": "/scripts/user.js"
        },
        {
            "type": "script",
            "namespace": "bot",
            "path": "/scripts/bot.js"
        },
        {
            "type": "script",
            "namespace": "utils",
            "path": "/scripts/utils.js"
        },
        {
            "type": "listener",
            "namespace": "webhook",
            "path": "/listeners/webhooks.js"
        }
    ]
}
